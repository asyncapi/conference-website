/* eslint-disable react/no-unescaped-entities */
import { useState } from 'react';
import Head from 'next/head';
import ReactGA from 'react-ga';
import TagManager from 'react-gtm-module';
import Navbar from '../components/Navbar/navbar';
import Header from '../components/Header/header';
import Venue from '../components/Venue/venue';
import cities from '../config/city-lists.json';
import speakers from '../config/speakers.json';
import ReactSlider from '../components/Slider/slider';
import Speaker from '../components/Speaker/speaker';

export default function Home() {
	const [city, setCity] = useState(speakers[0]);
	const [speakersList, setSpeakersList] = useState(speakers[0].lists);
	if (typeof window !== 'undefined') {
		TagManager.initialize({ gtmId: 'GTM-MCT2H5G' });
		ReactGA.initialize('UA-109278936-3');
		ReactGA.pageview(window.location.pathname + window.location.search);
	}
	return (
		<div>
			<Head>
				<title>AsyncAPI Conference</title>
				<meta name='description' content='Generated by create next app' />
				<link rel='icon' href='/favicon.ico' />
			</Head>
			<div className='relative'>
				<img src='/img/illustra.png' className='bg-01 bg-02' />
				<Navbar />
				<Header />
			</div>
			<div>
				<div className='bg-[#1B1130] pt-[160px] container flex items-center  justify-between w-full'>
					<img src='/img/light.png' className='w-[663px]' />
					<div className='w-[604px]'>
						<h1 className='text-[64px] font-bold text-white leading-[64px]'>
							About AsyncAPI Conf 2023?
						</h1>
						<p className='text-[18px] text-gray mt-[20px]'>
							The AsyncAPI Conf2023 on Tour is planned to take the online event
							to the next level by hosting physical events in five different
							locations across the globe. Each location will feature its own
							keynote speakers, panels, and networking events, allowing
							attendees to experience the conference in person while still
							connecting with the larger global community.
						</p>
					</div>
				</div>
				<div className='gradient-bg w-full container flex flex-col items-center'>
					<div className='text-center py-[46px] w-[714px]'>
						<h1 className='text-[64px] font-bold text-white leading-[64px]'>
							Venues
						</h1>
						<p className='text-gray text-[20px] mt-[12px]'>
							The AsyncAPI Conf2023 on Tour is planned to take the online event
							to the next level by hosting physical events in five different
							locations across the globe.
						</p>
					</div>
					<div className='w-full mt-[64px]'>
						<ReactSlider>
							{Array(6)
								.fill()
								.map((v) => {
									return <Venue key={v} />;
								})}
						</ReactSlider>
					</div>
				</div>

				<div className='bg-[#1B1130] pt-[160px] container flex flex-col items-center justify-center w-full'>
					<div className='text-center'>
						<h1 className='text-[64px] font-bold text-white leading-[64px]'>
							Speakers
						</h1>
						<p className='text-[20px] text-gray mt-[20px]'>Meet the speakers</p>
					</div>

					<div className='mt-[64px] w-[792px] flex justify-between'>
						{speakers.map((speaker) => {
							return (
								<div key={speaker.location}>
									<button
										onClick={() => {
											setCity(speaker);
											console.log(speaker.lists)
											setSpeakersList(speaker.lists);
										}}
										className={`${
											city.city === speaker.city
												? 'gradient-bg'
												: 'border border-gray'
										} text-white w-[168px] h-[54px] rounded-md p-[8px]`}
									>
										{speaker.city}
									</button>
								</div>
							);
						})}
					</div>

					<div className='mt-[64px] pb-[181px]'>
						{Object.keys(speakersList).length > 0 ? (
							<div className='w-full grid grid-cols-3 gap-6'>
								{speakersList.map((speaker, i) => {
									return (
										<Speaker
											key={i}
											details={speaker}
											location={city}
											className='mt-10'
										/>
									);
								})}
							</div>
						) : (
							<div className='w-[720px] mt-[140px] text-center'>
								<h1 className='text-[40px] text-white font-bold'>
									London Speakers Coming Soon - Stay Tuned!
								</h1>
								<p className='mt-[32px] text-[16px] text-gray'>
									We are actively accepting speaker applications, and you can
									start your journey by clicking the button below. Join us on
									stage and share your valuable insights with our enthusiastic
									audience!
									</p>
									<button className='mt-[80px] w-[244px] h-[54px] rounded-md border border-gray card-bg text-white text-[16px] px-8'>
										Apply as a Speaker
									</button>
							</div>
						)}
					</div>
				</div>
			</div>
		</div>
	);
}
